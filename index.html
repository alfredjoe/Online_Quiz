<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quiz Verse Unlocked</title>
    <meta name="description" content="Quiz Platform" />
    <meta name="author" content="Your Team" />

    <meta property="og:title" content="Quiz Verse Unlocked" />
    <meta property="og:description" content="Quiz Platform" />
    <meta property="og:type" content="website" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="" />

    <!-- Only one favicon link without media attribute -->
    <link rel="icon" href="/public/favicon-light.png" type="image/png" />

    <script>
      function setFavicon() {
        const isDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
        const faviconHref = isDark ? "/public/favicon-dark.png" : "/public/favicon-light.png";
        let favicon = document.querySelector("link[rel~='icon']");

        if (!favicon) {
          favicon = document.createElement("link");
          favicon.rel = "icon";
          document.head.appendChild(favicon);
        }
        favicon.href = faviconHref;
      }

      // Set favicon initially
      setFavicon();

      // Listen for changes in color scheme preference
      window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change", setFavicon);
    </script>
  </head>

  <body>
    <div id="root"></div>

    <!-- Dynamically load optional CDN module only when env var is set. -->
    <script type="module">
      const _cdn = import.meta.env.VITE_GPTENGINEER_CDN;
      if (_cdn) {
        try {
          import(/* @vite-ignore */ _cdn).catch(() => {
            /* ignore CDN load failures */
          });
        } catch (e) {
          // Defensive: ignore runtime errors when env is malformed
        }
      }
    </script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
